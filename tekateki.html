<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Teka-Teki</title>
    <!-- Memuat Tailwind CSS untuk styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        /* Menggunakan font Inter dari Google Fonts untuk tampilan yang lebih modern */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap');
        body {
            font-family: 'Inter', sans-serif;
            /* Menambahkan gambar latar belakang */
            background-image: url('https://verval.mtsnutbs.sch.id/tbsgedung.png');
            background-size: cover;
            background-position: center;
            background-repeat: no-repeat;
            background-attachment: fixed;
        }
        /* Style untuk transisi modal */
        #modal {
            transition: opacity 0.3s ease;
        }
    </style>
</head>
<body class="bg-gray-100 flex items-center justify-center min-h-screen p-4">

    <!-- Kontainer utama untuk teka-teki -->
    <div class="bg-white p-6 sm:p-8 rounded-2xl shadow-lg max-w-md w-full text-center backdrop-blur-sm bg-white/80">
        <!-- Judul teka-teki -->
        <h1 class="text-3xl font-bold text-gray-800 mb-4">TEKA-TEKI</h1>
        
        <!-- Paragraf yang berisi teka-teki -->
        <p class="text-gray-700 mb-6 text-lg">
            Aku adalah seekor hewan. Jumlah kakiku ada empat buah. Aku memiliki ekor. Aku juga memiliki belalai.
            <br>
            <strong class="mt-2 block">Siapakah aku?</strong>
        </p>
        
        <!-- Area input dan tombol -->
        <div class="flex flex-col sm:flex-row gap-2">
            <input type="text" id="jawabanInput" placeholder="Ketik jawabanmu di sini..." class="flex-grow w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition">
            <button onclick="cekJawaban()" class="bg-blue-500 text-white font-bold py-3 px-6 rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition duration-300">
                Jawab
            </button>
        </div>
    </div>

    <!-- Modal Container -->
    <div id="modal" class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50">
        <!-- Konten Modal -->
        <div id="modalContent" class="bg-white p-6 sm:p-8 rounded-2xl shadow-2xl max-w-sm w-full text-center relative transform transition-all duration-300 scale-95 opacity-0">
            <!-- Canvas untuk efek confetti -->
            <canvas id="confettiCanvas" class="absolute top-0 left-0 w-full h-full pointer-events-none rounded-2xl"></canvas>
            <h2 id="modalTitle" class="text-3xl font-bold mb-3"></h2>
            <p id="modalMessage" class="text-gray-600 text-lg mb-6"></p>
            <button id="closeModal" class="bg-blue-500 text-white font-bold py-2 px-8 rounded-lg hover:bg-blue-600 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition duration-300">
                OK
            </button>
        </div>
    </div>


    <script>
        // --- Ambil Elemen Modal ---
        const modal = document.getElementById('modal');
        const modalContent = document.getElementById('modalContent');
        const modalTitle = document.getElementById('modalTitle');
        const modalMessage = document.getElementById('modalMessage');
        const closeModal = document.getElementById('closeModal');
        const confettiCanvas = document.getElementById('confettiCanvas');
        const ctx = confettiCanvas.getContext('2d');
        let confettiParticles = [];
        let animationFrameId;

        // --- Fungsi untuk Menampilkan Modal ---
        function showModal(isCorrect) {
            if (isCorrect) {
                modalTitle.textContent = "Hebat!";
                modalTitle.className = "text-3xl font-bold mb-3 text-green-500";
                modalMessage.textContent = "Jawaban Anda benar.";
                startConfetti();
            } else {
                modalTitle.textContent = "Oops!";
                modalTitle.className = "text-3xl font-bold mb-3 text-red-500";
                modalMessage.textContent = "Jawaban Anda salah, coba lagi ya.";
                stopConfetti(); // Pastikan confetti berhenti jika ada
            }
            modal.classList.remove('hidden');
            // Memicu transisi setelah modal ditampilkan
            setTimeout(() => {
                modalContent.classList.remove('scale-95', 'opacity-0');
            }, 10);
        }

        // --- Fungsi untuk Menyembunyikan Modal ---
        function hideModal() {
            modalContent.classList.add('scale-95', 'opacity-0');
            setTimeout(() => {
                modal.classList.add('hidden');
                stopConfetti();
                document.getElementById('jawabanInput').value = ''; // Bersihkan input
                document.getElementById('jawabanInput').focus(); // Fokus kembali ke input
            }, 300); // Sesuaikan dengan durasi transisi
        }

        // --- Fungsi Cek Jawaban (Dimodifikasi) ---
        function cekJawaban() {
            const inputElement = document.getElementById('jawabanInput');
            const jawabanPengguna = inputElement.value.toLowerCase().trim();
            const jawabanBenar = ['gajah'];

            if (jawabanPengguna === '') return; // Jangan lakukan apa-apa jika input kosong

            showModal(jawabanBenar.includes(jawabanPengguna));
        }

        // --- Event Listener untuk Menutup Modal ---
        closeModal.addEventListener('click', hideModal);
        modal.addEventListener('click', (event) => {
            if (event.target === modal) {
                hideModal();
            }
        });
        
        // --- Event Listener untuk Tombol Enter ---
        document.getElementById('jawabanInput').addEventListener('keypress', function(event) {
            if (event.key === 'Enter') {
                event.preventDefault();
                cekJawaban();
            }
        });

        // --- Logika Efek Confetti ---
        function startConfetti() {
            confettiCanvas.width = modalContent.offsetWidth;
            confettiCanvas.height = modalContent.offsetHeight;
            confettiParticles = [];
            for (let i = 0; i < 150; i++) { // Jumlah confetti ditambah
                confettiParticles.push(createConfettiParticle());
            }
            if(animationFrameId) cancelAnimationFrame(animationFrameId);
            animateConfetti();
        }

        function stopConfetti() {
            confettiParticles = [];
            if(animationFrameId) cancelAnimationFrame(animationFrameId);
            ctx.clearRect(0, 0, confettiCanvas.width, confettiCanvas.height);
        }

        function createConfettiParticle() {
            const colors = ["#f44336", "#e91e63", "#9c27b0", "#673ab7", "#3f51b5", "#2196f3", "#03a9f4", "#00bcd4", "#009688", "#4caf50", "#8bc34a", "#ffeb3b", "#ffc107", "#ff9800"];
            return {
                x: Math.random() * confettiCanvas.width,
                y: -20 - Math.random() * 20, // Mulai dari posisi yang lebih acak di atas
                w: 5 + Math.random() * 8,
                h: 5 + Math.random() * 8,
                color: colors[Math.floor(Math.random() * colors.length)],
                speed: 1.5 + Math.random() * 3.5, // Kecepatan sedikit lebih bervariasi
                angle: Math.random() * Math.PI * 2,
                tilt: Math.random() * 10 - 5,
                tiltAngle: 0,
                tiltAngleSpeed: 0.05 + Math.random() * 0.05,
            };
        }

        function animateConfetti() {
            ctx.clearRect(0, 0, confettiCanvas.width, confettiCanvas.height);
            
            confettiParticles.forEach((p, index) => {
                p.y += p.speed;
                p.tiltAngle += p.tiltAngleSpeed;
                p.x += Math.sin(p.tiltAngle) * 1.5;

                ctx.save();
                ctx.fillStyle = p.color;
                ctx.translate(p.x + p.w / 2, p.y + p.h / 2);
                ctx.rotate(p.angle);
                ctx.fillRect(-p.w / 2, -p.h / 2, p.w, p.h);
                ctx.restore();

                if (p.y > confettiCanvas.height + 20) {
                    confettiParticles.splice(index, 1);
                }
            });

            if (confettiParticles.length > 0) {
                animationFrameId = requestAnimationFrame(animateConfetti);
            } else {
                stopConfetti();
            }
        }
        
        // Atur ulang ukuran canvas jika jendela diubah ukurannya
        window.addEventListener('resize', () => {
             if (!modal.classList.contains('hidden') && confettiParticles.length > 0) {
                 confettiCanvas.width = modalContent.offsetWidth;
                 confettiCanvas.height = modalContent.offsetHeight;
             }
        });
    </script>
</body>
</html>

